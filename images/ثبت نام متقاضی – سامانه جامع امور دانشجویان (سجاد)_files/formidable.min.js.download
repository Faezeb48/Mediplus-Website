function frmFrontFormJS(){"use strict";function setNextPage(e){var i=jQuery(this),t=i.attr("type");"submit"!==t&&e.preventDefault();var n=i.parents("form:first"),r="",a="",l=this.name;"frm_prev_page"===l||-1!==this.className.indexOf("frm_prev_page")?r=jQuery(n).find(".frm_next_page").attr("id").replace("frm_next_p_",""):("frm_save_draft"===l||-1!==this.className.indexOf("frm_save_draft"))&&(a=1),jQuery(".frm_next_page").val(r),jQuery(".frm_saving_draft").val(a),"submit"!==t&&n.trigger("submit")}function toggleSection(){jQuery(this).parent().children(".frm_toggle_container").slideToggle("fast"),jQuery(this).toggleClass("active").children(".ui-icon-triangle-1-e, .ui-icon-triangle-1-s").toggleClass("ui-icon-triangle-1-s ui-icon-triangle-1-e")}function loadUniqueTimeFields(){if("undefined"!=typeof __frmUniqueTimes)for(var e=__frmUniqueTimes,i=0;i<e.length;i++)jQuery(document.getElementById(e[i].dateID)).change(maybeTriggerUniqueTime)}function maybeTriggerUniqueTime(){for(var e=__frmUniqueTimes,i=0;i<e.length;i++)e[i].dateID==this.id&&frmFrontForm.removeUsedTimes(this,e[i].timeID)}function loadDateFields(){jQuery(document).on("focusin",".frm_date",triggerDateField),loadUniqueTimeFields()}function triggerDateField(){if(-1===this.className.indexOf("frm_custom_date")&&"undefined"!=typeof __frmDatepicker){var e=__frmDatepicker,i=this.id,t=i.split("-"),n=(t.pop(),'input[id^="'+t.join("-")+'"]');jQuery.datepicker.setDefaults(jQuery.datepicker.regional[""]);for(var r=0,a=0;a<e.length;a++)(e[a].triggerID=="#"+i||e[a].triggerID==n)&&(r=a);""!==e[r].options.defaultDate&&(e[r].options.defaultDate=new Date(e[r].options.defaultDate)),jQuery(this).datepicker(jQuery.extend(jQuery.datepicker.regional[e[r].locale],e[r].options))}}function loadDropzones(e){if("undefined"!=typeof __frmDropzone)for(var i=__frmDropzone,t=0;t<i.length;t++)loadDropzone(t,e)}function loadDropzone(e,i){var t=__frmDropzone,n="#"+t[e].htmlID+"_dropzone",r=t[e].fieldName;"undefined"!=typeof i&&-1!==n.indexOf("-0_dropzone")&&(n=n.replace("-0_dropzone","-"+i+"_dropzone"),r=r.replace("[0]","["+i+"]"),delete t[e].mockFiles);var a=jQuery(n);if(!(a.length<1||a.hasClass("dz-clickable"))){var l=t[e].maxFiles;if("undefined"!=typeof t[e].mockFiles){var o=t[e].mockFiles.length;l>0&&(l-=o)}var d=a.closest("form"),u=d.find('input[type="submit"], .frm_submit input[type="button"]'),f=d.find(".frm_ajax_loading");a.dropzone({url:frm_js.ajax_url,addRemoveLinks:!0,paramName:a.attr("id").replace("_dropzone",""),maxFilesize:t[e].maxFilesize,maxFiles:l,uploadMultiple:t[e].uploadMultiple,hiddenInputContainer:"#"+d.attr("id"),dictDefaultMessage:t[e].defaultMessage,dictFallbackMessage:t[e].fallbackMessage,dictFallbackText:t[e].fallbackText,dictFileTooBig:t[e].fileTooBig,dictInvalidFileType:t[e].invalidFileType,dictResponseError:t[e].responseError,dictCancelUpload:t[e].cancel,dictCancelUploadConfirmation:t[e].cancelConfirm,dictRemoveFile:t[e].remove,dictMaxFilesExceeded:t[e].maxFilesExceeded,fallback:function(){jQuery(this.element).closest("form").removeClass("frm_ajax_submit")},init:function(){if(this.on("sending",function(i,n,r){r.append("action","frm_submit_dropzone"),r.append("field_id",t[e].fieldID),r.append("form_id",t[e].formID)}),this.on("success",function(i,n){for(var a=jQuery.parseJSON(n),l=0;l<a.length;l++)t[e].uploadMultiple!==!0&&jQuery('input[name="'+r+'"]').val(a[l])}),this.on("successmultiple",function(i,n){for(var a=jQuery.parseJSON(n),l=0;l<i.length;l++)jQuery(i[l].previewElement).append(getHiddenUploadHTML(t[e],a[l],r))}),this.on("complete",function(i){if("undefined"!=typeof i.mediaID){t[e].uploadMultiple&&jQuery(i.previewElement).append(getHiddenUploadHTML(t[e],i.mediaID,r));for(var n=i.previewElement.querySelectorAll("[data-dz-name]"),a=0,l=n.length;l>a;a++){var o=n[a];o.innerHTML='<a href="'+i.url+'">'+i.name+"</a>"}}}),this.on("addedfile",function(){f.addClass("frm_loading_now"),u.attr("disabled","disabled")}),this.on("queuecomplete",function(){f.removeClass("frm_loading_now"),u.removeAttr("disabled")}),this.on("removedfile",function(i){if(i.accepted!==!1&&t[e].uploadMultiple!==!0&&jQuery('input[name="'+r+'"]').val(""),i.accepted!==!1&&"undefined"!=typeof i.mediaID){jQuery(i.previewElement).remove();var n=this.files.length;this.options.maxFiles=t[e].maxFiles-n}}),"undefined"!=typeof t[e].mockFiles)for(var i=0;i<t[e].mockFiles.length;i++){var n={name:t[e].mockFiles[i].name,size:t[e].mockFiles[i].size,url:t[e].mockFiles[i].file_url,mediaID:t[e].mockFiles[i].id};this.emit("addedfile",n),this.emit("thumbnail",n,t[e].mockFiles[i].url),this.emit("complete",n),this.files.push(n)}}})}}function getHiddenUploadHTML(e,i,t){return'<input name="'+t+'[]" type="hidden" value="'+i+'" data-frmfile="'+e.fieldID+'" />'}function removeFile(){var e=jQuery(this).data("frm-remove");fadeOut(jQuery(this).parent(".dz-preview"));var i=jQuery('input[name="'+e+'"]');i.length&&i.val("")}function showOtherText(){var e=this.type,i=!1,t=!1;if("select-one"===e){t=!0;var n=this.options[this.selectedIndex];"frm_other_trigger"===n.className&&(i=!0)}else if("select-multiple"===e){t=!0;var r=this.options;i=!1;for(var a=0;a<r.length;a++)if("frm_other_trigger"===r[a].className&&r[a].selected){i=!0;break}}if(t){var l=jQuery(this).parent().children(".frm_other_input");l.length&&(i?l[0].className=l[0].className.replace("frm_pos_none",""):(l[0].className.indexOf("frm_pos_none")<1&&(l[0].className=l[0].className+" frm_pos_none"),l[0].value=""))}else"radio"===e?jQuery(this).is(":checked")&&(jQuery(this).closest(".frm_radio").children(".frm_other_input").removeClass("frm_pos_none"),jQuery(this).closest(".frm_radio").siblings().children(".frm_other_input").addClass("frm_pos_none").val("")):"checkbox"===e&&(this.checked?jQuery(this).closest(".frm_checkbox").children(".frm_other_input").removeClass("frm_pos_none"):jQuery(this).closest(".frm_checkbox").children(".frm_other_input").addClass("frm_pos_none").val(""))}function maybeCheckDependent(e){var i=getFieldId(this,!1);if(i&&"undefined"!=typeof i){var t="reset";if(e.frmTriggered){if(e.frmTriggered==i)return;t="persist"}checkFieldsWithConditionalLogicDependentOnThis(i,jQuery(this));var n=getOriginalEvent(e);checkFieldsWatchingLookup(i,jQuery(this),n),doCalculation(i,jQuery(this)),maybeValidateChange(i,this)}}function maybeValidateChange(e,i){jQuery(i).closest("form").hasClass("frm_js_validate")&&validateField(e,i)}function getOriginalEvent(e){var i;return i="undefined"!=typeof e.originalEvent||e.currentTarget.className.indexOf("frm_chzn")>-1?"value changed":"other"}function getFieldId(e,i){var t="";if(t=e instanceof jQuery?e.attr("name"):e.name,""===t)return t=e instanceof jQuery?e.data("name"):e.getAttribute("data-name"),""!==t&&t?t:0;var n=t.replace("item_meta[","").replace("[]","").split("]");if(n.length<1)return 0;n=n.filter(function(e){return""!==e});var r=n[0],a=!1;return 1===n.length?r:"[form"===n[1]||"[row_ids"===n[1]?0:(jQuery('input[name="item_meta['+r+'][form]"]').length&&(r=n[2].replace("[",""),a=!0),"other"===r&&(r=a?n[3].replace("[",""):n[1].replace("[","")),i===!0&&(r=r===n[0]?r+"-"+n[1].replace("[",""):r+"-"+n[0]+"-"+n[1].replace("[","")),r)}function checkFieldsWithConditionalLogicDependentOnThis(e,i){if(!("undefined"==typeof __FRMRULES||"undefined"==typeof __FRMRULES[e]||__FRMRULES[e].dependents.length<1||null===i||"undefined"==typeof i))for(var t=__FRMRULES[e],n=getRepeatArgsFromFieldName(i[0].name),r=0,a=t.dependents.length;a>r;r++)hideOrShowFieldById(t.dependents[r],n)}function hideOrShowFieldById(e,i){var t=getRulesForSingleField(e);if(!(t===!1||t.conditions.length<1))for(var n=getAllFieldDivIds(t,i),r=n.length,a=0;r>a;a++)t.containerId=n[a],addRepeatRow(t,n[a]),hideOrShowSingleField(t)}function getAllFieldDivIds(e,i){var t=[];if(e.isRepeating)if(""!==i.repeatingSection){var n="frm_field_"+e.fieldId+"-";n+=i.repeatingSection+"-"+i.repeatRow+"_container",t.push(n)}else t=getAllRepeatingFieldDivIds(e);else t.push("frm_field_"+e.fieldId+"_container");return t}function getAllRepeatingFieldDivIds(e){var i=[],t=getContainerFieldId(e);return i=isFieldDivOnPage("frm_field_"+t+"_container")?getRepeatingFieldDivIdsOnCurrentPage(e.fieldId):getRepeatingFieldDivIdsAcrossPage(e)}function getRepeatingFieldDivIdsOnCurrentPage(e){for(var i=[],t=document.querySelectorAll(".frm_field_"+e+"_container"),n=0,r=t.length;r>n;n++)i.push(t[n].id);return i}function getRepeatingFieldDivIdsAcrossPage(e){for(var i=[],t=getContainerFieldId(e),n="frm_field_"+e.fieldId+"-"+t+"-",r=document.querySelectorAll('[name="item_meta['+t+'][row_ids][]"]'),a=0,l=r.length;l>a;a++)""!==r[a].value&&i.push(n+r[a].value+"_container");return i.length<1&&i.push(n+"0_container"),i}function getContainerFieldId(e){var i="";return"0"!==e.inEmbedForm?i=e.inEmbedForm:"0"!==e.inSection&&(i=e.inSection),i}function addRepeatRow(e,i){if(e.isRepeating){var t=i.replace("_container","").split("-");e.repeatRow=t[2]}else e.repeatRow=""}function hideOrShowSingleField(e){for(var i=[],t=e.conditions.length,n=0;t>n;n++)i.push(checkLogicCondition(e.conditions[n],e));routeToHideOrShowField(e,i)}function getRulesForSingleField(e){return"undefined"==typeof __FRMRULES||"undefined"==typeof __FRMRULES[e]?!1:__FRMRULES[e]}function checkLogicCondition(e,i){var t=e.fieldId,n=getRulesForSingleField(t),r=getFieldValue(n,i);return getLogicConditionOutcome(e,r,i,n)}function getFieldValue(e,i){var t="";return t="radio"==e.inputType||"checkbox"==e.inputType?getValueFromRadioOrCheckbox(e,i):getValueFromTextOrDropdown(e,i),t=cleanFinalFieldValue(t)}function getValueFromTextOrDropdown(e,i){var t="";if(e.isMultiSelect===!0)return getValueFromMultiSelectDropdown(e,i);var n="field_"+e.fieldKey;e.isRepeating&&(n+="-"+i.repeatRow);var r=document.getElementById(n);return null!==r&&(t=r.value),t}function getValueFromMultiSelectDropdown(e,i){var t=buildLogicFieldInputName(e,i),n=document.querySelectorAll('[name^="'+t+'"]'),r=[];return 1==n.length&&"hidden"!=n[0].type?(r=jQuery('[name^="'+t+'"]').val(),null===r&&(r="")):r=getValuesFromCheckboxInputs(n),r}function getValueFromRadioOrCheckbox(e,i){var t,n=buildLogicFieldInputName(e,i),r=document.querySelectorAll('input[name^="'+n+'"]');return t="checkbox"==e.inputType?getValuesFromCheckboxInputs(r):getValueFromRadioInputs(r)}function buildLogicFieldInputName(e,i){var t="";if(e.isRepeating){var n="";n="0"!==i.inEmbedForm?i.inEmbedForm:i.inSection;var r=i.repeatRow;t="item_meta["+n+"]["+r+"]["+e.fieldId+"]"}else t="item_meta["+e.fieldId+"]";return t}function getValuesFromCheckboxInputs(e){for(var i=[],t=0,n=e.length;n>t;t++)("hidden"==e[t].type||e[t].checked)&&i.push(e[t].value);return 0===i.length&&(i=!1),i}function cleanFinalFieldValue(e){return"undefined"==typeof e?e="":"string"==typeof e&&(e=e.trim()),e}function getLogicConditionOutcome(e,i,t,n){var r;return r="data"==t.fieldType&&"data"==n.fieldType?getDynamicFieldLogicOutcome(e,i,t):operators(e.operator,e.value,i)}function getDynamicFieldLogicOutcome(e,i,t){var n=!1;return n=""===e.value?""===i||1==i.length&&""===i[0]?!1:!0:operators(e.operator,e.value,i),t.dataLogic=e,t.dataLogic.actualValue=i,n}function operators(e,i,t){if(i=prepareLogicValueForComparison(i),t=prepareEnteredValueForComparison(i,t),"string"==typeof i&&"-1"!=i.indexOf("&quot;")&&operators(e,i.replace("&quot;",'"'),t))return!0;var n={"==":function(e,i){return e==i},"!=":function(e,i){return e!=i},"<":function(e,i){return e>i},">":function(e,i){return i>e},LIKE:function(e,i){return i?(e=prepareLogicValueForLikeComparison(e),i=prepareEnteredValueForLikeComparison(e,i),-1!=e.indexOf(i)):!1},"not LIKE":function(e,i){return i?(e=prepareLogicValueForLikeComparison(e),i=prepareEnteredValueForLikeComparison(e,i),-1==e.indexOf(i)):!0}};return n[e](i,t)}function prepareLogicValueForComparison(e){return-1!==String(e).search(/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/)?e=parseFloat(e):"string"==typeof e&&(e=e.trim()),e}function prepareEnteredValueForComparison(e,i){return"undefined"==typeof i&&(i=""),jQuery.isArray(i)&&jQuery.inArray(String(e),i)>-1&&(i=e),"number"==typeof e&&"string"==typeof i&&(i=parseFloat(i)),"string"==typeof i&&(i=i.trim()),i}function prepareLogicValueForLikeComparison(e){return prepareValueForLikeComparison(e)}function prepareEnteredValueForLikeComparison(e,i){i=prepareValueForLikeComparison(i);var t="";if(jQuery.isArray(i))for(var n=0,r=i.length;r>n;n++)if(t=i[n].toLowerCase(),t.indexOf(e)>-1){i=e;break}return i}function prepareValueForLikeComparison(e){return"string"==typeof e?e=e.toLowerCase():"number"==typeof e&&(e=e.toString()),e}function routeToHideOrShowField(e,i){var t=getHideOrShowAction(e,i),n=isFieldDivOnPage(e.containerId);"show"==t?"data"==e.fieldType&&e.hasOwnProperty("dataLogic")?updateDynamicField(e,n):showFieldAndSetValue(e,n):hideFieldAndClearValue(e,n)}function isFieldDivOnPage(e){var i=document.getElementById(e);return null!==i}function getHideOrShowAction(e,i){return action="any"==e.anyAll?i.indexOf(!0)>-1?e.showHide:reverseAction(e.showHide):i.indexOf(!1)>-1?reverseAction(e.showHide):e.showHide}function reverseAction(e){return e="show"==e?"hide":"show"}function showFieldAndSetValue(e,i){isFieldCurrentlyShown(e.containerId,e.formId)||(removeFromHideFields(e.containerId,e.formId),i?(setValuesInsideFieldOnPage(e.containerId,e),showFieldContainer(e.containerId)):setValuesInsideFieldAcrossPage(e))}function setValuesInsideFieldOnPage(e,i){var t=getInputsInFieldOnPage(e),n="divider"==i.fieldType||"form"==i.fieldType;setValueForInputs(t,n,i.formId)}function setValuesInsideFieldAcrossPage(e){var i=getInputsInFieldAcrossPage(e),t="divider"==e.fieldType||"form"==e.fieldType;setValueForInputs(i,t,e.formId)}function getInputsInFieldOnPage(e){var i=document.getElementById(e);return i.querySelectorAll('select[name^="item_meta"], textarea[name^="item_meta"], input[name^="item_meta"]')}function getInputsInFieldAcrossPage(e){var i=[];return i="divider"==e.fieldType?getInputsInHiddenSection(e):"form"==e.fieldType?getInputsInHiddenEmbeddedForm(e):getHiddenInputs(e)}function getHiddenInputs(e){var i="";if(e.isRepeating){var t=getContainerFieldId(e);i="item_meta["+t+"]["+e.repeatRow+"]["+e.fieldId+"]"}else i="item_meta["+e.fieldId+"]";return document.querySelectorAll('[name^="'+i+'"]')}function setValueForInputs(e,i,t){if(e.length)for(var n,r=["checkbox","radio"],a=0;a<e.length;a++)a>0&&"undefined"!=typeof n&&n.name==e[a].name&&r.indexOf(n.type)>-1||i&&isChildInputConditionallyHidden(e[a],t)||(setDefaultValue(e[a]),maybeSetWatchingFieldValue(e[a]),maybeDoCalcForSingleField(e[a]),n=e[a])}function isChildInputConditionallyHidden(e,i){var t=getFieldId(e,!0),n="frm_field_"+t+"_container";return isFieldConditionallyHidden(n,i)}function showFieldContainer(e){jQuery("#"+e).show()}function hideFieldAndClearValue(e,i){i?(hideFieldContainer(e.containerId),clearInputsInFieldOnPage(e.containerId)):clearInputsInFieldAcrossPage(e),addToHideFields(e.containerId,e.formId)}function hideFieldContainer(e){jQuery("#"+e).hide()}function clearInputsInFieldOnPage(e){var i=getInputsInFieldOnPage(e);clearValueForInputs(i)}function clearInputsInFieldAcrossPage(e){var i=getInputsInFieldAcrossPage(e);clearValueForInputs(i)}function getInputsInHiddenSection(e){var i=[];return"divider"==e.fieldType&&(i=document.querySelectorAll('[data-sectionid="'+e.fieldId+'"]')),i}function getInputsInHiddenEmbeddedForm(e){return document.querySelectorAll('[id^="field_'+e.fieldKey+'-"]')}function clearValueForInputs(e){if(!(e.length<1)){for(var i,t=!0,n=0,r=e.length;r>n;n++){if(n>0&&i.name!=e[n].name&&t===!0&&triggerChange(jQuery(i)),t=!0,"radio"==e[n].type||"checkbox"==e[n].type)e[n].checked=!1;else if("SELECT"==e[n].tagName){0===e[n].selectedIndex?t=!1:e[n].selectedIndex=0;var a=e[n].id.replace(/[^\w]/g,"_"),l=document.getElementById(a+"_chosen");null!==l&&jQuery(e[n]).trigger("chosen:updated")}else e[n].value="";i=e[n]}t===!0&&triggerChange(jQuery(i))}}function isFieldCurrentlyShown(e,i){return isFieldConditionallyHidden(e,i)===!1}function isFieldConditionallyHidden(e,i){var t=!1,n=getHiddenFields(i);return n.indexOf(e)>-1&&(t=!0),t}function clearHideFields(){var e=document.querySelectorAll('[id^="frm_hide_fields_"]');clearValueForInputs(e)}function addToHideFields(e,i){var t=getHiddenFields(i);if(t.indexOf(e)>-1);else{t.push(e),t=JSON.stringify(t);var n=document.getElementById("frm_hide_fields_"+i);null!==n&&(n.value=t)}}function getAllHiddenFields(){for(var e,i=[],t=document.querySelectorAll('*[id^="frm_hide_fields_"]'),n=t.length,r=0;n>r;r++)e=t[r].id.replace("frm_hide_fields_",""),i=i.concat(getHiddenFields(e));return i}function getHiddenFields(e){var i=[],t=document.getElementById("frm_hide_fields_"+e);return null===t?i:(i=t.value,i=i?JSON.parse(i):[])}function setDefaultValue(e){var i=jQuery(e),t=i.data("frmval");if("undefined"!=typeof t){if("checkbox"==e.type||"radio"==e.type)setCheckboxOrRadioDefaultValue(e.name,t);else if(e.name.indexOf("[]")>-1)setHiddenCheckboxDefaultValue(e.name,t);else{if(t.constructor===Object){var n=e.getAttribute("name").split("[").slice(-1)[0];null!==n&&(n=n.replace("]",""),t=t[n],"undefined"==typeof t&&(t=""))}e.value=t}"SELECT"==e.tagName&&maybeUpdateChosenOptions(e),triggerChange(i)}}function setCheckboxOrRadioDefaultValue(e,i){for(var t=document.getElementsByName(e),n=0,r=t.length;r>n;n++)if("hidden"==t[n].type)jQuery.isArray(i)&&null!==i[n]?t[n].value=i[n]:t[n].value=i;else if((t[n].value==i||jQuery.isArray(i)&&i.indexOf(t[n].value)>-1)&&(t[n].checked=!0,"radio"==t[n].type))break}function setHiddenCheckboxDefaultValue(e,i){var t=document.getElementsByName(e);if(jQuery.isArray(i))for(var n=0,r=i.length;r>n;n++)n in t&&(t[n].value=i[n]);else null!==t[0]&&(t[0].value=i)}function removeFromHideFields(e,i){var t=getHiddenFields(i),n=t.indexOf(e);if(n>-1){t.splice(n,1),t=JSON.stringify(t);var r=document.getElementById("frm_hide_fields_"+i);r.value=t}}function checkFieldsWatchingLookup(e,i,t){if(!("undefined"==typeof __FRMLOOKUP||"undefined"==typeof __FRMLOOKUP[e]||__FRMLOOKUP[e].dependents.length<1||null===i||"undefined"==typeof i))for(var n=__FRMLOOKUP[e],r=getRepeatArgsFromFieldName(i[0].name),a=0,l=n.dependents.length;l>a;a++)updateWatchingFieldById(n.dependents[a],r,t)}function updateWatchingFieldById(e,i,t){var n=getLookupArgsForSingleField(e);n===!1||n.parents.length<1||("lookup"==n.fieldType?updateLookupFieldOptions(n,i):"value changed"===t&&updateWatchingFieldValue(n,i))}function updateLookupFieldOptions(e,i){var t=[];t=""!==i.repeatRow?getRepeatingFieldDivOnCurrentPage(e,i):getAllFieldDivsOnCurrentPage(e);for(var n=0,r=t.length;r>n;n++)addRepeatRow(e,t[n].id),updateSingleLookupField(e,t[n])}function getRepeatingFieldDivOnCurrentPage(e,i){var t=[],n="frm_field_"+e.fieldId+"-";n+=i.repeatingSection+"-"+i.repeatRow+"_container";var r=document.getElementById(n);return null!==r&&t.push(r),t}function updateWatchingFieldValue(e,i){for(var t=getAllTextFieldInputs(e,i),n=0,r=t.length;r>n;n++)addRepeatRowForInput(t[n].name,e),updateSingleWatchingField(e,t[n])}function getLookupArgsForSingleField(e){return"undefined"==typeof __FRMLOOKUP||"undefined"==typeof __FRMLOOKUP[e]?!1:__FRMLOOKUP[e]}function updateSingleLookupField(e,i){e.parentVals=getParentLookupFieldVals(e),"select"==e.inputType?maybeReplaceSelectLookupFieldOptions(e,i):("radio"==e.inputType||"checkbox"==e.inputType)&&maybeReplaceCbRadioLookupOptions(e,i)}function updateSingleWatchingField(e,i){e.parentVals=getParentLookupFieldVals(e),maybeInsertValueInFieldWatchingLookup(e,i)}function getAllTextFieldInputs(e,i){var t="field_"+e.fieldKey;return t=e.isRepeating?""!==i.repeatingSection?'[id="'+t+"-"+i.repeatRow+'"]':'[id^="'+t+'-"]':'[id="'+t+'"]',document.querySelectorAll(t)}function maybeSetWatchingFieldValue(e){var i=getFieldId(e,!1),t=getLookupArgsForSingleField(i);t!==!1&&"lookup"!=t.fieldType&&updateSingleWatchingField(t,e,"value changed")}function getAllFieldDivsOnCurrentPage(e){var i=[];if(e.isRepeating)i=document.querySelectorAll(".frm_field_"+e.fieldId+"_container");else{var t=document.getElementById("frm_field_"+e.fieldId+"_container");null!==t&&i.push(t)}return i}function getParentLookupFieldVals(e){for(var i,t=[],n=e.parents,r=!1,a=0,l=n.length;l>a;a++){if(i=getLookupArgsForSingleField(n[a]),r=getFieldValue(i,e),""===r||r===!1){t=!1;break}t[a]=r}return t}function getValueFromRadioInputs(e){for(var i=!1,t=e.length,n=0;t>n;n++)if("hidden"==e[n].type||e[n].checked){i=e[n].value;break}return i}function maybeReplaceSelectLookupFieldOptions(e,i){var t=i.getElementsByTagName("SELECT")[0];if(null!==t){var n=t.value;e.parentVals===!1?(t.options.length=1,""!==n&&(t.value="",maybeUpdateChosenOptions(t),triggerChange(jQuery(t),e.fieldKey))):(disableLookup(t),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_replace_lookup_field_options",parent_fields:e.parents,parent_vals:e.parentVals,field_id:e.fieldId,nonce:frm_js.nonce},success:function(i){replaceSelectLookupFieldOptions(e.fieldKey,t,i)}}))}}function maybeUpdateChosenOptions(e){e.className.indexOf("frm_chzn")>-1&&jQuery().chosen&&jQuery(e).trigger("chosen:updated")}function disableLookup(e){e.className=e.className+" frm_loading_lookup",e.disabled=!0}function enableLookup(e){e.disabled=!1,e.className=e.className.replace(" frm_loading_lookup","")}function replaceSelectLookupFieldOptions(e,i,t){var n=i.value;t=JSON.parse(t);for(var r=i.options.length;r>0;r--)i.remove(r);var a=t.length;for(r=0;a>r;r++)i.options[r+1]=new Option(t[r],t[r],!1,!1);setSelectLookupVal(i,n),maybeUpdateChosenOptions(i),enableLookup(i),i.value!=n&&triggerChange(jQuery(i),e)}function setSelectLookupVal(e,i){if(e.value=i,""===e.value){var t=e.getAttribute("data-frmval");null!==t&&(e.value=t)}}function maybeReplaceCbRadioLookupOptions(e,i){if(e.parentVals===!1){var t=i.getElementsByTagName("input");maybeHideRadioLookup(e,i),clearValueForInputs(t)}else replaceCbRadioLookupOptions(e,i)}function replaceCbRadioLookupOptions(e,i){var t=i.getElementsByClassName("frm_opt_container")[0],n=t.getElementsByTagName("input");addLoadingIconJS(i,t);var r="";r="radio"==e.inputType?getValueFromRadioInputs(n):getValuesFromCheckboxInputs(n);var a=jQuery(n[0]).data("frmval");jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_replace_cb_radio_lookup_options",parent_fields:e.parents,parent_vals:e.parentVals,field_id:e.fieldId,row_index:e.repeatRow,current_value:r,default_value:a,nonce:frm_js.nonce},success:function(r){t.innerHTML=r,removeLoadingIconJS(i,t),1==n.length&&""===n[0].value?maybeHideRadioLookup(e,i):(maybeShowRadioLookup(e,i),maybeSetDefaultCbRadioValue(e,n,a)),triggerChange(jQuery(n[0]),e.fieldKey)}})}function maybeSetDefaultCbRadioValue(e,i,t){if(void 0!==t){var n=!1;if(n="radio"==e.inputType?getValueFromRadioInputs(i):getValuesFromCheckboxInputs(i),!(n!==!1||i.length<1)){var r=i[0].name;setCheckboxOrRadioDefaultValue(r,t)}}}function maybeHideRadioLookup(e,i){isFieldConditionallyHidden(i.id,e.formId)||(hideFieldContainer(i.id),addToHideFields(i.id,e.formId))}function maybeShowRadioLookup(e,i){if(!isFieldCurrentlyShown(i.id,e.formId)){var t=getRulesForSingleField(e.fieldId);t===!1||t.conditions.length<1?(removeFromHideFields(i.id,e.formId),showFieldContainer(i.id)):(t.containerId=i.id,t.repeatRow=e.repeatRow,hideOrShowSingleField(t))}}function maybeInsertValueInFieldWatchingLookup(e,i){if(!isChildInputConditionallyHidden(i,e.formId))if(e.parentVals===!1){var t=i.getAttribute("data-frmval");null===t&&(t=""),insertValueInFieldWatchingLookup(e,i,t)}else jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_get_lookup_text_value",parent_fields:e.parents,parent_vals:e.parentVals,field_id:e.fieldId,nonce:frm_js.nonce},success:function(t){i.value!=t&&insertValueInFieldWatchingLookup(e.fieldKey,i,t)}})}function insertValueInFieldWatchingLookup(e,i,t){i.value=t,triggerChange(jQuery(i),e)}function addRepeatRowForInput(e,i){var t=getRepeatArgsFromFieldName(e);""!==t.repeatRow?i.repeatRow=t.repeatRow:i.repeatRow=""}function updateDynamicField(e,i){var t=cloneObjectForDynamicFields(e);"data"==t.inputType?updateDynamicListData(t,i):i&&updateDynamicFieldOptions(t)}function cloneObjectForDynamicFields(e){var i={actualValue:e.dataLogic.actualValue,fieldId:e.dataLogic.fieldId},t={fieldId:e.fieldId,fieldKey:e.fieldKey,formId:e.formId,containerId:e.containerId,repeatRow:e.repeatRow,dataLogic:i,children:"",inputType:e.inputType};return t}function updateDynamicListData(e,i){if(i){var t=jQuery("#"+e.containerId);addLoadingIcon(t)}jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_fields_ajax_get_data",entry_id:e.dataLogic.actualValue,current_field:e.fieldId,hide_id:e.containerId,nonce:frm_js.nonce},success:function(n){if(i){var r=t.find(".frm_opt_container");r.html(n);var a=r.children("input"),l=a.val();removeLoadingIcon(r),""===n||""===l?hideDynamicField(e):showDynamicField(e,t,a,!0)}else updateHiddenDynamicListField(e,n)}})}function updateDynamicFieldOptions(e,i){var t=jQuery("#"+e.containerId),n=t.find('select[name^="item_meta"], input[name^="item_meta"]'),r=getFieldValueFromInputs(n),a=n.data("frmval"),l=t.closest("form").find('input[name="id"]').val();addLoadingIcon(t),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_fields_ajax_data_options",trigger_field_id:e.dataLogic.fieldId,entry_id:e.dataLogic.actualValue,field_id:e.fieldId,default_value:a,container_id:e.containerId,editing_entry:l,prev_val:r,nonce:frm_js.nonce},success:function(i){var n=t.find(".frm_opt_container");n.html(i);var a=n.find('select, input[type="checkbox"], input[type="radio"]');if(removeLoadingIcon(n),""===i||a.length<1)hideDynamicField(e);else{var l=dynamicFieldValueChanged(e,a,r);showDynamicField(e,t,a,l)}}})}function dynamicFieldValueChanged(e,i,t){var n=getFieldValueFromInputs(i);return t!==n}function updateHiddenDynamicListField(e,i){var t="field_"+e.fieldKey;""!==e.repeatRow&&(t+="-"+e.repeatRow);var n=document.getElementById(t);n.value=i,isFieldConditionallyHidden(e.containerId,e.formId)&&removeFromHideFields(e.containerId,e.formId),triggerChange(jQuery(n))}function addLoadingIcon(e){var i=e.html();if(i.indexOf("frm-loading-img")>-1);else{var t='<span class="frm-loading-img"></span>';e.html(i+t);var n=e.find(".frm_opt_container");n.hide()}}function addLoadingIconJS(e,i){var t=e.innerHTML;if(t.indexOf("frm-loading-img")>-1);else{i.style.display="none";var n=document.createElement("span");n.setAttribute("class","frm-loading-img"),e.insertBefore(n,i.nextSibling)}}function removeLoadingIcon(e){e.parent().children(".frm-loading-img").remove(),e.show()}function removeLoadingIconJS(e,i){var t=e.getElementsByClassName("frm-loading-img")[0];null!==t&&void 0!==t&&t.parentNode.removeChild(t),i.style.display="block"}function getFieldValueFromInputs(e){var i=[],t="";return e.each(function(){t=this.value,"radio"===this.type||"checkbox"===this.type?this.checked===!0&&i.push(t):""!==t&&i.push(t)}),0===i.length&&(i=""),i}function hideDynamicField(e){hideFieldAndClearValue(e,!0)}function showDynamicField(e,i,t,n){isFieldConditionallyHidden(e.containerId,e.formId)&&(removeFromHideFields(e.containerId,e.formId),i.show()),t.hasClass("frm_chzn")&&loadChosen(),n===!0&&triggerChange(t)}function triggerCalc(){if("undefined"!=typeof __FRMCALC){var e=__FRMCALC.triggers;e&&jQuery(e.join()).trigger({type:"change",selfTriggered:!0}),triggerCalcWithoutFields()}}function triggerCalcWithoutFields(){var e=__FRMCALC.calc,i=[];for(var t in e)if(e[t].fields.length<1){var n=document.getElementById("field_"+t);null===n||isChildInputConditionallyHidden(n,e[t].form_id)||doSingleCalculation(__FRMCALC,t,i)}}function doCalculation(e,i){if("undefined"!=typeof __FRMCALC){var t=__FRMCALC,n=t.fields[e];if("undefined"!=typeof n)for(var r=n.total,a=r.length,l=[],o=0,d=a;d>o;o++)isTotalFieldConditionallyHidden(t.calc[r[o]],i.attr("name"))===!1&&doSingleCalculation(t,r[o],l,i)}}function isTotalFieldConditionallyHidden(e,i){var t=!1,n=e.field_id,r=e.form_id,a=getHiddenFields(r);if(a.length<1)return t;if("0"===e.inSection&&"0"===e.inEmbedForm)t=isNonRepeatingFieldConditionallyHidden(n,a);else{var l=getRepeatArgsFromFieldName(i);isNonRepeatingFieldConditionallyHidden(n,a)?t=!0:isRepeatingFieldConditionallyHidden(n,l,a)?t=!0:"0"!==e.inSection&&"0"!==e.inEmbedForm?t=isRepeatingFieldConditionallyHidden(e.inSection,l,a):"0"!==e.inSection?t=isNonRepeatingFieldConditionallyHidden(e.inSection,a):"0"!==e.inEmbedForm&&(t=isNonRepeatingFieldConditionallyHidden(e.inEmbedForm,a))}return t}function isNonRepeatingFieldConditionallyHidden(e,i){var t="frm_field_"+e+"_container";return i.indexOf(t)>-1}function isRepeatingFieldConditionallyHidden(e,i,t){var n=!1;if(i.repeatingSection){var r="frm_field_"+e+"-"+i.repeatingSection;r+="-"+i.repeatRow+"_container",n=t.indexOf(r)>-1}return n}function doSingleCalculation(all_calcs,field_key,vals,triggerField){var thisCalc=all_calcs.calc[field_key],thisFullCalc=thisCalc.calc,totalField=jQuery(document.getElementById("field_"+field_key)),fieldInfo={triggerField:triggerField,inSection:!1,thisFieldCall:'input[id^="field_'+field_key+'-"]'};if(totalField.length<1&&"undefined"!=typeof triggerField&&(fieldInfo.inSection=!0,fieldInfo.thisFieldId=objectSearch(all_calcs.fieldsWithCalc,field_key),totalField=getSiblingField(fieldInfo)),!(totalField.length<1)){thisFullCalc=getValsForSingleCalc(thisCalc,thisFullCalc,all_calcs,vals,fieldInfo);var total="";if("text"==thisCalc.calc_type)total=thisFullCalc;else{var dec=thisCalc.calc_dec;if(thisFullCalc.indexOf(").toFixed(")>-1){var calcParts=thisFullCalc.split(").toFixed(");isNumeric(calcParts[1])&&(dec=calcParts[1],thisFullCalc=thisFullCalc.replace(").toFixed("+dec,""))}total=parseFloat(eval(thisFullCalc)),("undefined"==typeof total||isNaN(total))&&(total=0),isNumeric(dec)&&(total=total.toFixed(dec))}totalField.val()!=total&&(totalField.val(total),triggerChange(totalField,field_key))}}function getValsForSingleCalc(e,i,t,n,r){for(var a=e.fields.length,l=0,o=a;o>l;l++){var d={triggerField:r.triggerField,thisFieldId:e.fields[l],inSection:r.inSection,valKey:r.inSection+""+e.fields[l],thisField:t.fields[e.fields[l]],thisFieldCall:"input"+t.fieldKeys[e.fields[l]]};d=getCallForField(d,t),"text"==e.calc_type?(d.valKey="text"+d.valKey,n=getTextCalcFieldId(d,n),"undefined"==typeof n[d.valKey]&&(n[d.valKey]="")):(d.valKey="num"+d.valKey,n=getCalcFieldId(d,t,n),("undefined"==typeof n[d.valKey]||isNaN(n[d.valKey]))&&(n[d.valKey]=0),"date"==d.thisField.type&&0===n[d.valKey]&&(i=""));var u="["+d.thisFieldId+"]";u=u.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),i=i.replace(new RegExp(u,"g"),n[d.valKey])}return i}function getCallForField(e,i){return"checkbox"==e.thisField.type||"radio"==e.thisField.type||"scale"==e.thisField.type?e.thisFieldCall=e.thisFieldCall+":checked,"+e.thisFieldCall+"[type=hidden]":"select"==e.thisField.type||"time"==e.thisField.type||"data"==e.thisField.type?e.thisFieldCall="select"+i.fieldKeys[e.thisFieldId]+" option:selected,"+e.thisFieldCall+"[type=hidden]":"textarea"==e.thisField.type&&(e.thisFieldCall=e.thisFieldCall+",textarea"+i.fieldKeys[e.thisFieldId]),e}function maybeDoCalcForSingleField(e){if("undefined"!=typeof __FRMCALC&&fieldCanDoCalc(e.type)){var i=__FRMCALC,t=getFieldKey(e.id,e.name),n=maybeGetTriggerField(e);if(void 0!==i.calc[t]){var r=[];doSingleCalculation(i,t,r,n)}}}function fieldCanDoCalc(e){var i=!1;return("text"==e||"hidden"==e||"number"==e)&&(i=!0),i}function getFieldKey(e,i){var t=e.replace("field_","");if(isRepeatingFieldByName(i)){for(var n=t.split("-"),r="",a=0;a<n.length-1;a++)r=""===r?n[a]:r+"-"+n[a];t=r}return t}function maybeGetTriggerField(e){var i=null;return isRepeatingFieldByName(e.name)&&(i="hidden"!=e.type?jQuery(e).closest(".frm_form_field"):jQuery(e)),i}function isRepeatingFieldByName(e){var i=e.split("][");return i.length>=3}function getCalcFieldId(e,i,t){if("undefined"!=typeof t[e.valKey]&&0!==t[e.valKey])return t;t[e.valKey]=0;var n=getCalcField(e);return n===!1?t:(n.each(function(){var n=getOptionValue(e.thisField,this);if("date"==e.thisField.type){var r=getDateFieldValue(i.date,n);null!==r&&(t[e.valKey]=Math.ceil(r/864e5));
}else{var a=n;""!==a&&0!==a&&(a=a.trim(),a=parseFloat(a.replace(/,/g,"").match(/-?[\d\.]+$/))),("undefined"==typeof a||isNaN(a)||""===a)&&(a=0),t[e.valKey]+=a}}),t)}function getTextCalcFieldId(e,i){if("undefined"!=typeof i[e.valKey]&&""!==i[e.valKey])return i;i[e.valKey]="";var t=getCalcField(e);if(t===!1)return i;var n=0,r="";return t.each(function(){var t=getOptionValue(e.thisField,this);t=t.trim(),n>0&&(r=", "),""!==t&&(i[e.valKey]+=r+t,n++)}),i}function getCalcField(e){var i;return e.inSection===!1?i=jQuery(e.thisFieldCall):(i=getSiblingField(e),(null===i||"undefined"==typeof i)&&(i=jQuery(e.thisFieldCall))),(null===i||"undefined"==typeof i||i.length<1)&&(i=!1),i}function getDateFieldValue(e,i){var t=0;if(i)if("undefined"==typeof jQuery.datepicker){var n="-";e.indexOf("/")>-1&&(n="/");var r,a,l,o=e.split(n),d=i.split(n);r=a=l="";for(var u=0;u<o.length;u++)if("y"==o[u]){var f=(new Date).getFullYear()+15,s=f.toString().substr(2,2);r=d[u]>s?"19"+d[u]:"20"+d[u]}else"yy"==o[u]?r=d[u]:"m"==o[u]||"mm"==o[u]?(a=d[u],a.length<2&&(a="0"+a)):("d"==o[u]||"dd"==o[u])&&(l=d[u],l.length<2&&(l="0"+l));t=Date.parse(r+"-"+a+"-"+l)}else t=jQuery.datepicker.parseDate(e,i);else;return t}function getSiblingField(e){if("undefined"==typeof e.triggerField)return null;var i=e.triggerField.closest(".frm_repeat_sec, .frm_repeat_inline, .frm_repeat_grid");if(i.length){var t=e.thisFieldCall.replace("[id=","[id^=");return i.find(t)}return null}function getOptionValue(e,i){var t;return t=isOtherOption(e,i)?getOtherValueAnyField(e,i):"checkbox"!==i.type&&"radio"!==i.type||!i.checked?jQuery(i).val():i.value,"undefined"==typeof t&&(t=""),t}function isOtherOption(e,i){var t=!1;if("hidden"==i.type)""!==getOtherValueLimited(i)&&(t=!0);else if("select"==e.type){var n=i.className;n&&n.indexOf("frm_other_trigger")>-1&&(t=!0)}else("checkbox"==e.type||"radio"==e.type)&&i.id.indexOf("-other_")>-1&&i.id.indexOf("-otext")<0&&(t=!0);return t}function getOtherValueLimited(e){var i="",t=document.getElementById(e.id+"-otext");return null!==t&&""!==t.value&&(i=t.value),i}function getOtherValueAnyField(e,i){var t=0;return"select"==e.type?"hidden"==i.type?isCurrentOptRepeating(i)||(t=getOtherValueLimited(i)):t=getOtherSelectValue(i):("checkbox"==e.type||"radio"==e.type)&&("hidden"==i.type||(t=getOtherValueLimited(i))),t}function isCurrentOptRepeating(e){var i=!1,t=e.name.split("[");return t.length>2&&(i=!0),i}function getOtherSelectValue(e){return jQuery(e).closest(".frm_other_container").find(".frm_other_input").val()}function shouldJSValidate(e){var i=jQuery(e).hasClass("frm_js_validate");return i&&(savingDraftEntry(e)||goingToPrevPage(e))&&(i=!1),i}function savingDraftEntry(e){var i=!1,t=jQuery(e).find(".frm_saving_draft");return t.length&&(i=t.val()),i}function goingToPrevPage(e){var i=!1,t=jQuery(e).find(".frm_next_page");if(t.length&&t.val()){var n=jQuery(e).find('input[name="form_id"]').val(),r=jQuery(e).find('input[name="frm_page_order_'+n+'"]');r=r.length?r.val():0,(!r||t.val()<r)&&(i=!0)}return i}function validateForm(e){var i=[],t=jQuery(e).find(".frm_required_field:visible input, .frm_required_field:visible select, .frm_required_field:visible textarea").filter(":not(.frm_optional)");if(t.length)for(var n=0,r=t.length;r>n;n++)i=checkRequiredField(t[n],i);var a=jQuery(e).find("input[type=email]").filter(":visible"),l=jQuery(e).find("input,select,textarea");if(l.length)for(var o=0,d=l.length;d>o;o++){var u=l[o],f=u.value;""!==f&&("hidden"==u.type||("number"==u.type?i=checkNumberField(u,i):"email"==u.type?i=checkEmailField(u,i,a):null!==u.pattern&&(i=checkPatternField(u,i))))}return i=validateRecaptcha(e,i)}function validateField(e,i){var t=[],n=jQuery(i).closest(".frm_form_field");if(n.hasClass("frm_required_field")&&!jQuery(i).hasClass("frm_optional")&&(t=checkRequiredField(i,t)),t.length<1)if("email"==i.type){var r=jQuery(i).closest("form").find("input[type=email]");t=checkEmailField(i,t,r)}else"number"==i.type?t=checkNumberField(i,t):null!==i.pattern&&(t=checkPatternField(i,t));if(removeFieldError(n),Object.keys(t).length>0)for(var a in t)addFieldError(n,a,t)}function checkRequiredField(e,i){var t=e.getAttribute("data-frmfile");if("hidden"==e.type&&null===t)return i;var n="",r="";if("checkbox"==e.type||"radio"==e.type){var a=jQuery('input[name="'+e.name+'"]').closest(".frm_required_field").find("input:checked");jQuery(a).each(function(){n=this.value})}else if("file"==e.type||t)"undefined"==typeof t&&(t=getFieldId(e,!0),t=t.replace("file","")),"undefined"==typeof i[t]&&(n=getFileVals(t)),r=t;else{var l=e.className;if(-1!==l.indexOf("frm_pos_none"))return i;if(n=jQuery(e).val(),"string"!=typeof n){var o=n;n="";for(var d=0;d<o.length;d++)""!==o[d]&&(n=o[d])}r=-1===l.indexOf("frm_other_input")?getFieldId(e,!0):getFieldId(e,!1)}return""===n&&(""===r&&(r=getFieldId(e,!0)),r in i||(i[r]=getFieldValidationMessage(e,"data-reqmsg"))),i}function getFileVals(e){var i="",t=jQuery('input[name="file'+e+'"], input[name="file'+e+'[]"], input[name^="item_meta['+e+']"]');return t.each(function(){""===i&&(i=this.value)}),i}function checkEmailField(e,i,t){var n=e.value,r=getFieldId(e,!0);if(r in i)return i;var a=0===r.indexOf("conf_");if(""!==n||a){var l=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,o=getFieldValidationMessage(e,"data-invmsg");if(""!==n&&l.test(n)===!1)i[r]=o,a&&(i[r.replace("conf_","")]="");else if(a){var d=e.name.replace("conf_",""),u=t.filter('[name="'+d+'"]').val();u!==n&&(i[r]="",i[r.replace("conf_","")]="")}}return i}function checkNumberField(e,i){var t=e.value;if(""!==t&&isNaN(t/1)!==!1){var n=getFieldId(e,!0);n in i||(i[n]=getFieldValidationMessage(e,"data-invmsg"))}return i}function checkPatternField(e,i){var t=e.value,n=getFieldValidationMessage(e,"pattern");if(""!==n&&""!==t){var r=getFieldId(e,!0);r in i||(n=new RegExp("^"+n+"$","i"),n.test(t)===!1&&(i[r]=getFieldValidationMessage(e,"data-invmsg")))}return i}function validateRecaptcha(e,i){var t=jQuery(e).find(".frm-g-recaptcha");if(t.length){var n=t.data("rid"),r=grecaptcha.getResponse(n);if(0===r.length){var a=t.closest(".frm_form_field"),l=a.attr("id").replace("frm_field_","").replace("_container","");i[l]=""}}return i}function getFieldValidationMessage(e,i){var t=e.getAttribute(i);return null===t&&(t=""),t}function getFormErrors(e,i){"undefined"==typeof i&&jQuery(e).find('input[name="frm_action"]').val(),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:jQuery(e).serialize()+"&action=frm_entries_"+i+"&nonce="+frm_js.nonce,success:function(i){var t={content:"",errors:{},pass:!1};if(null===i&&(i=t),i=i.replace(/^\s+|\s+$/g,""),i=0===i.indexOf("{")?jQuery.parseJSON(i):t,"undefined"!=typeof i.redirect)window.location=i.redirect;else if(""!==i.content){jQuery(e).find(".frm_ajax_loading").removeClass("frm_loading_now");var n=jQuery(e).find('input[name="form_id"]').val();if(jQuery(e).closest(".frm_forms").replaceWith(i.content),-1!=frm_js.offset&&frmFrontForm.scrollMsg(n,jQuery(e)),"function"==typeof frmThemeOverride_frmAfterSubmit){var r=jQuery('input[name="frm_page_order_'+n+'"]').val(),a=jQuery(i.content).find('input[name="form_id"]').val();frmThemeOverride_frmAfterSubmit(a,r,i.content,e)}var l=jQuery(e).find('input[name="id"]');l.length&&jQuery(document.getElementById("frm_edit_"+l.val())).find("a").addClass("frm_ajax_edited").click();var o=jQuery(i.content).find(".frm_message");o.length&&checkConditionalLogic("pageLoad"),checkFieldsOnPage()}else if(Object.keys(i.errors).length){jQuery(e).find('input[type="submit"], input[type="button"]').removeAttr("disabled"),jQuery(e).find(".frm_ajax_loading").removeClass("frm_loading_now");var d=!0;removeAllErrors();var u=!1,f=null;for(var s in i.errors)if(f=jQuery(e).find("#frm_field_"+s+"_container"),f.length){if(!f.is(":visible")){var c=f.closest(".frm_toggle_container");if(c.length){var m=c.prev();m.hasClass("frm_trigger")||(m=m.prev(".frm_trigger")),m.click()}}if(f.is(":visible")){addFieldError(f,s,i.errors),d=!1;var p=jQuery(e).find("#frm_field_"+s+"_container .frm-g-recaptcha, #frm_field_"+s+"_container .g-recaptcha");if(p.length){u=!0;var g=p.data("rid");jQuery().grecaptcha&&(g?grecaptcha.reset(g):grecaptcha.reset())}}}scrollToFirstField(e),u!==!0&&replaceCheckedRecaptcha(e,!1),d?e.submit():jQuery(e).prepend(i.error_message)}else showFileLoading(e),replaceCheckedRecaptcha(e,!0),e.submit()},error:function(){jQuery(e).find('input[type="submit"], input[type="button"]').removeAttr("disabled"),e.submit()}})}function addFieldError(e,i,t){e.length&&e.is(":visible")&&(e.addClass("frm_blank_field"),"function"==typeof frmThemeOverride_frmPlaceError?frmThemeOverride_frmPlaceError(i,t):e.append('<div class="frm_error">'+t[i]+"</div>"))}function removeFieldError(e){e.removeClass("frm_blank_field"),e.find(".frm_error").remove()}function removeAllErrors(){jQuery(".form-field").removeClass("frm_blank_field"),jQuery(".form-field .frm_error").replaceWith(""),jQuery(".frm_error_style").remove()}function scrollToFirstField(e){var i=jQuery(e).find(".frm_blank_field:first");i.length&&frmFrontForm.scrollMsg(i,e,!0)}function showFileLoading(e){var i=document.getElementById("frm_loading");if(null!==i){var t=jQuery(e).find("input[type=file]").val();"undefined"!=typeof t&&""!==t&&setTimeout(function(){jQuery(i).fadeIn("slow")},2e3)}}function replaceCheckedRecaptcha(e,i){var t=jQuery(e).find(".frm-g-recaptcha, .g-recaptcha");if(t.length){if(i){var n=jQuery(e).find(".frm_next_page").length<1||jQuery(e).find(".frm_next_page").val()<1;if(!n)return}t.closest(".frm_form_field").replaceWith('<input type="hidden" name="recaptcha_checked" value="'+frm_js.nonce+'">')}}function clearDefault(){toggleDefault(jQuery(this),"clear")}function replaceDefault(){toggleDefault(jQuery(this),"replace")}function toggleDefault(e,i){var t=e.data("frmval").replace(/(\n|\r\n)/g,"\r");if(""===t||"undefined"==typeof t)return!1;var n=e.val().replace(/(\n|\r\n)/g,"\r");"replace"==i?""===n&&e.addClass("frm_default").val(t):n==t&&e.removeClass("frm_default").val("")}function resendEmail(){var e=jQuery(this),i=e.data("eid"),t=e.data("fid");return e.append('<span class="spinner" style="display:inline"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_send_email",entry_id:i,form_id:t,nonce:frm_js.nonce},success:function(i){e.replaceWith(i)}}),!1}function generateGoogleTables(e,i){for(var t=0;t<e.length;t++)generateSingleGoogleTable(e[t],i)}function generateSingleGoogleTable(e,i){google.load("visualization","1.0",{packages:[i],callback:function(){compileGoogleTable(e)}})}function compileGoogleTable(e){var i=new google.visualization.DataTable,t=!1;-1!==jQuery.inArray("id",e.options.fields)&&(t=!0,i.addColumn("number",frm_js.id));for(var n=e.fields.length,r="string",a=0,l=n;l>a;a++){var o=e.fields[a];r=getGraphType(o),i.addColumn(r,o.name)}var d=!1;e.options.edit_link&&(d=!0,i.addColumn("string",e.options.edit_link));var u=!1;e.options.delete_link&&(u=!0,i.addColumn("string",e.options.delete_link));var f=0;if(null!==e.entries){var s=e.entries.length;i.addRows(s);for(var c=0,m=0,p=s;p>m;m++){f=0;var g=e.entries[m];t&&(i.setCell(c,f,g.id),f++);for(var y=0,_=n;_>y;y++){var h=e.fields[y];r=getGraphType(h);var v=g.metas[h.id];"number"!=r||null!==v&&""!==v?"boolean"==r&&(v=null===v||"false"==v||v===!1?!1:!0):v=0,i.setCell(c,f,v),f++}d&&("undefined"!=typeof g.editLink?i.setCell(c,f,'<a href="'+g.editLink+'">'+e.options.edit_link+"</a>"):i.setCell(c,f,""),f++),u&&("undefined"!=typeof g.deleteLink?i.setCell(c,f,'<a href="'+g.deleteLink+'" class="frm_delete_link" data-frmconfirm="'+e.options.confirm+'">'+e.options.delete_link+"</a>"):i.setCell(c,f,"")),c++}}else for(i.addRows(1),f=0,a=0,l=n;l>a;a++)f>0?i.setCell(0,f,""):i.setCell(0,f,e.options.no_entries),f++;var F=new google.visualization.Table(document.getElementById("frm_google_table_"+e.options.form_id));F.draw(i,e.graphOpts)}function generateGoogleGraphs(e){for(var i=0,t=e.length;t>i;i++)generateSingleGoogleGraph(e[i])}function generateSingleGoogleGraph(e){google.load("visualization","1.0",{packages:[e["package"]],callback:function(){compileGoogleGraph(e)}})}function compileGoogleGraph(e){var i=new google.visualization.DataTable;i=google.visualization.arrayToDataTable(e.data);var t=document.getElementById("chart_"+e.graph_id);if(null!==t){var n=e.type.charAt(0).toUpperCase()+e.type.slice(1);"Histogram"!==n&&"Table"!==n&&(n+="Chart");var r=new google.visualization[n](t);r.draw(i,e.options)}}function getGraphType(e){var i="string";if("number"==e.type)i="number";else if("checkbox"==e.type||"select"==e.type){var t=e.options.length;"select"==e.type&&""===e.options[0]&&("post_status"==e.field_options.post_field?t=3:t-=1),1==t&&(i="boolean")}return i}function removeRow(){var e=jQuery(this).data("key"),i=jQuery(this).data("parent"),t="frm_section_"+i+"-"+e,n=jQuery(document.getElementById(t)),r=n.find("input, select, textarea"),a=jQuery(this).closest("form").find('input[name="form_id"]').val();return n.fadeOut("slow",function(){n.remove(),r.each(function(){var t=getFieldId(this,!1);"file"!=this.type&&doCalculation(t,jQuery(this));var n="frm_field_"+t+"-"+i+"-"+e+"_container";removeFromHideFields(n,a)}),"function"==typeof frmThemeOverride_frmRemoveRow&&frmThemeOverride_frmRemoveRow(t,n)}),!1}function addRow(){if(currentlyAddingRow===!0)return!1;currentlyAddingRow=!0;var e=jQuery(this).data("parent"),i=0;if(jQuery(".frm_repeat_"+e).length>0){var t=jQuery(".frm_repeat_"+e+":last").attr("id").replace("frm_section_"+e+"-","");i=t.indexOf("i")>-1?1:1+parseInt(t)}return jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"json",data:{action:"frm_add_form_row",field_id:e,i:i,nonce:frm_js.nonce},success:function(t){var n=t.html,r=jQuery(n).hide().fadeIn("slow");jQuery(".frm_repeat_"+e+":last").after(r);var a,l,o=["other"],d="reset",u={repeatingSection:e.toString(),repeatRow:i.toString()};jQuery(n).find("input, select, textarea").each(function(){if("file"!=this.type){if(""===this.name)return!0;if(a=this.name.replace("item_meta[","").split("]")[2].replace("[",""),-1==jQuery.inArray(a,o)){if(this.id===!1||""===this.id)return;l=jQuery("#"+this.id),o.push(a),hideOrShowFieldById(a,u),updateWatchingFieldById(a,u,"value changed"),checkFieldsWithConditionalLogicDependentOnThis(a,l),checkFieldsWatchingLookup(a,l,"value changed"),doCalculation(a,l),d="persist"}}}),loadDropzones(u.repeatRow),loadStars(),loadChosen(),"function"==typeof frmThemeOverride_frmAddRow&&frmThemeOverride_frmAddRow(e,t),currentlyAddingRow=!1},error:function(){currentlyAddingRow=!1}}),!1}function editEntry(){var e=jQuery(this),i=e.data("entryid"),t=e.data("prefix"),n=e.data("pageid"),r=e.data("formid"),a=e.data("cancel"),l=e.data("fields"),o=e.data("excludefields"),d=jQuery(document.getElementById(t+i)),u=d.html();return d.html('<span class="frm-loading-img" id="'+t+i+'"></span><div class="frm_orig_content" style="display:none">'+u+"</div>"),jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"html",data:{action:"frm_entries_edit_entry_ajax",post_id:n,entry_id:i,id:r,nonce:frm_js.nonce,fields:l,exclude_fields:o},success:function(i){d.children(".frm-loading-img").replaceWith(i),e.removeClass("frm_inplace_edit").addClass("frm_cancel_edit"),e.html(a),checkConditionalLogic("editInPlace"),jQuery(document).on("change",'.frm-show-form input[name^="item_meta"], .frm-show-form select[name^="item_meta"], .frm-show-form textarea[name^="item_meta"]',maybeCheckDependent),checkFieldsOnPage()}}),!1}function cancelEdit(){var e=jQuery(this),i=e.data("entryid"),t=e.data("prefix"),n=e.data("edit");if(!e.hasClass("frm_ajax_edited")){var r=jQuery(document.getElementById(t+i));r.children(".frm_forms").replaceWith(""),r.children(".frm_orig_content").fadeIn("slow").removeClass("frm_orig_content")}return e.removeClass("frm_cancel_edit").addClass("frm_inplace_edit"),e.html(n),!1}function deleteEntry(){var e=jQuery(this),i=e.data("deleteconfirm");if(confirm(i)){var t=e.data("entryid"),n=e.data("prefix");e.replaceWith('<span class="frm-loading-img" id="frm_delete_'+t+'"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_destroy",entry:t,nonce:frm_js.nonce},success:function(e){if("success"==e.replace(/^\s+|\s+$/g,"")){var i=jQuery(document.getElementById(n+t));i.fadeOut("slow",function(){i.remove()}),jQuery(document.getElementById("frm_delete_"+t)).fadeOut("slow")}else jQuery(document.getElementById("frm_delete_"+t)).replaceWith(e)}})}return!1}function checkFieldsOnPage(){checkPreviouslyHiddenFields(),loadDateFields(),loadCustomInputMasks(),loadStars(),loadChosen(),checkDynamicFields(),checkLookupFields(),triggerCalc(),loadDropzones()}function checkPreviouslyHiddenFields(){"undefined"!=typeof __frmHideFields&&frmFrontForm.hidePreviouslyHiddenFields()}function loadChosen(){if(jQuery().chosen){var e={allow_single_deselect:!0,no_results_text:frm_js.no_results};"undefined"!=typeof __frmChosen&&(e="{"+__frmChosen+"}"),jQuery(".frm_chzn").chosen(e)}}function loadStars(){if(jQuery().rating){var e=jQuery(".star");e.length&&e.rating()}}function checkConditionalLogic(e){"undefined"!=typeof __frmHideOrShowFields&&frmFrontForm.hideOrShowFields(__frmHideOrShowFields,e)}function checkDynamicFields(){"undefined"!=typeof __frmDepDynamicFields&&frmFrontForm.checkDependentDynamicFields(__frmDepDynamicFields)}function checkLookupFields(){"undefined"!=typeof __frmDepLookupFields&&frmFrontForm.checkDependentLookupFields(__frmDepLookupFields)}function triggerChange(e,i){"undefined"==typeof i&&(i="dependent"),e.length>1&&(e=e.eq(0)),e.trigger({type:"change",selfTriggered:!0,frmTriggered:i})}function loadCustomInputMasks(){if("undefined"!=typeof __frmMasks)for(var e=__frmMasks,i=0;i<e.length;i++)jQuery(e[i].trigger).attr("data-frmmask",e[i].mask)}function getRepeatArgsFromFieldName(e){var i={repeatingSection:"",repeatRow:""};if("undefined"!=typeof e&&isRepeatingFieldByName(e)){var t=e.split("][");i.repeatingSection=t[0].replace("item_meta[",""),i.repeatRow=t[1]}return i}function fadeOut(e){e.fadeOut("slow",function(){e.remove()})}function confirmClick(){var e=jQuery(this).data("frmconfirm");return confirm(e)}function toggleDiv(){var e=jQuery(this).data("frmtoggle");return jQuery(e).is(":visible")?jQuery(e).slideUp("fast"):jQuery(e).slideDown("fast"),!1}function objectSearch(e,i){for(var t in e)if(e.hasOwnProperty(t)&&e[t]===i)return t;return null}function isNumeric(e){return!jQuery.isArray(e)&&e-parseFloat(e)+1>=0}function addIndexOfFallbackForIE8(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var i=this.length>>>0,t=Number(arguments[1])||0;for(t=0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=i);i>t;t++)if(t in this&&this[t]===e)return t;return-1})}function addTrimFallbackForIE8(){"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}function addFilterFallbackForIE8(){Array.prototype.filter||(Array.prototype.filter=function(e){if(void 0===this||null===this)throw new TypeError;var i=Object(this),t=i.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=[],r=arguments[1],a=0;t>a;a++)if(a in i){var l=i[a];e.call(r,l,a,i)&&n.push(l)}return n})}function addKeysFallbackForIE8(){Object.keys||(Object.keys=function(e){var i=[];for(var t in e)e.hasOwnProperty(t)&&i.push(t);return i})}var currentlyAddingRow=!1,action="",jsErrors=[];return{init:function(){jQuery(document).off("submit.formidable",".frm-show-form"),jQuery(document).on("submit.formidable",".frm-show-form",frmFrontForm.submitForm),jQuery(document).on("click",".frm_trigger",toggleSection);var e=jQuery(".frm_blank_field");e.length&&e.closest(".frm_toggle_container").prev(".frm_trigger").click(),jQuery.isFunction(jQuery.fn.placeholder)?jQuery(".frm-show-form input, .frm-show-form textarea").placeholder():jQuery(".frm-show-form input[onblur], .frm-show-form textarea[onblur]").each(function(){""===jQuery(this).val()&&jQuery(this).blur()}),jQuery(document).on("focus",".frm_toggle_default",clearDefault),jQuery(document).on("blur",".frm_toggle_default",replaceDefault),jQuery(".frm_toggle_default").blur(),jQuery(document.getElementById("frm_resend_email")).click(resendEmail),jQuery(document).on("click",".frm_remove_link",removeFile),jQuery(document).on("focusin","input[data-frmmask]",function(){jQuery(this).mask(jQuery(this).data("frmmask").toString())}),jQuery(document).on("change",'.frm-show-form input[name^="item_meta"], .frm-show-form select[name^="item_meta"], .frm-show-form textarea[name^="item_meta"]',maybeCheckDependent),jQuery(document).on("click",'.frm-show-form input[type="submit"], .frm-show-form input[name="frm_prev_page"], .frm-show-form .frm_save_draft',setNextPage),jQuery(document).on("change",'.frm_other_container input[type="checkbox"], .frm_other_container input[type="radio"], .frm_other_container select',showOtherText),jQuery(document).on("click",".frm_remove_form_row",removeRow),jQuery(document).on("click",".frm_add_form_row",addRow),jQuery(document).on("click","a[data-frmconfirm]",confirmClick),jQuery("a[data-frmtoggle]").click(toggleDiv),jQuery(".frm_edit_link_container").on("click","a.frm_inplace_edit",editEntry),jQuery(".frm_edit_link_container").on("click","a.frm_cancel_edit",cancelEdit),jQuery(document).on("click",".frm_ajax_delete",deleteEntry),jQuery(".frm_month_heading, .frm_year_heading").click(function(){var e=jQuery(this).children(".ui-icon-triangle-1-e, .ui-icon-triangle-1-s");e.hasClass("ui-icon-triangle-1-e")?(e.addClass("ui-icon-triangle-1-s").removeClass("ui-icon-triangle-1-e"),jQuery(this).next(".frm_toggle_container").fadeIn("slow")):(e.addClass("ui-icon-triangle-1-e").removeClass("ui-icon-triangle-1-s"),jQuery(this).next(".frm_toggle_container").hide())}),checkConditionalLogic("pageLoad"),checkFieldsOnPage(),addIndexOfFallbackForIE8(),addTrimFallbackForIE8(),addFilterFallbackForIE8(),addKeysFallbackForIE8()},submitForm:function(e){frmFrontForm.submitFormManual(e,this)},submitFormManual:function(e,i){var t=i.className.trim().split(/\s+/gi);if(t){var n=t.indexOf("frm_pro_form")>-1;if(!n)return}if(!jQuery("body").hasClass("wp-admin")){e.preventDefault();var r=frmFrontForm.validateFormSubmit(i);if(0===Object.keys(r).length)if(jQuery(i).find(".frm_ajax_loading").addClass("frm_loading_now"),jQuery(i).find('input[type="submit"], input[type="button"]').attr("disabled","disabled"),t.indexOf("frm_ajax_submit")>-1){var a=jQuery(i).find('input[type="file"]').length;1>a?(action=jQuery(i).find('input[name="frm_action"]').val(),frmFrontForm.checkFormErrors(i,action)):i.submit()}else i.submit()}},validateFormSubmit:function(e){return"undefined"!=typeof tinyMCE&&jQuery(this).find(".wp-editor-wrap").length&&tinyMCE.triggerSave(),jsErrors=[],shouldJSValidate(e)&&(frmFrontForm.getAjaxFormErrors(e),Object.keys(jsErrors).length&&frmFrontForm.addAjaxFormErrors(e)),jsErrors},getAjaxFormErrors:function(e){if(jsErrors=validateForm(e),"function"==typeof frmThemeOverride_jsErrors){action=jQuery(e).find('input[name="frm_action"]').val();var i=frmThemeOverride_jsErrors(action,e);if(Object.keys(i).length)for(var t in i)jsErrors[t]=i[t]}return jsErrors},addAjaxFormErrors:function(e){removeAllErrors();for(var i in jsErrors){var t=jQuery(e).find("#frm_field_"+i+"_container");t.length?addFieldError(t,i,jsErrors):delete jsErrors[i]}scrollToFirstField(e)},checkFormErrors:function(e,i){getFormErrors(e,i)},scrollToID:function(e){var i=jQuery(document.getElementById(e));frmFrontForm.scrollMsg(i,!1)},scrollMsg:function(e,i,t){var n="";if("undefined"==typeof i){if(n=jQuery(document.getElementById("frm_form_"+e+"_container")),n.length<1)return}else n="string"==typeof e?jQuery(i).find("#frm_field_"+e+"_container"):e;var r=n.offset().top;if(r){r-=frm_js.offset;var a=jQuery("html").css("margin-top"),l=jQuery("body").css("margin-top");if((a||l)&&(r=r-parseInt(a)-parseInt(l)),r&&window.innerHeight){var o=document.documentElement.scrollTop||document.body.scrollTop,d=o+window.innerHeight;if(r>d||o>r)return"undefined"==typeof t?jQuery(window).scrollTop(r):jQuery("html,body").animate({scrollTop:r},500),!1}}},savingDraft:function(e){return savingDraftEntry(e)},goingToPreviousPage:function(e){return goingToPrevPage(e)},hideOrShowFields:function(e,i){"pageLoad"===i&&clearHideFields();for(var t=e.length,n={repeatingSection:"",repeatRow:""},r=0,a=t;a>r;r++)hideOrShowFieldById(e[r],n)},hidePreviouslyHiddenFields:function(){for(var e=getAllHiddenFields(),i=e.length,t=0,n=i;n>t;t++){var r=document.getElementById(e[t]);null!==r&&(r.style.display="none")}},checkDependentDynamicFields:function(e){for(var i=e.length,t={repeatingSection:"",repeatRow:""},n=0,r=i;r>n;n++)hideOrShowFieldById(e[n],t)},checkDependentLookupFields:function(e){for(var i,t={repeatingSection:"",repeatRow:""},n=0,r=e.length;r>n;n++)i=e[n],updateWatchingFieldById(i,t,"value changed")},loadGoogle:function(){if("undefined"!=typeof google&&google&&google.load)for(var e=__FRMTABLES,i=Object.keys(e),t=0;t<i.length;t++)"graphs"===i[t]?generateGoogleGraphs(e[i[t]]):generateGoogleTables(e[i[t]],i[t]);else setTimeout(frmFrontForm.loadGoogle,30)},removeUsedTimes:function(e,i){var t=jQuery(e).parents("form:first").find('input[name="id"]');jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"json",data:{action:"frm_fields_ajax_time_options",time_field:i,date_field:e.id,entry_id:t?t.val():"",date:jQuery(e).val(),nonce:frm_js.nonce},success:function(e){var t=jQuery(document.getElementById(i));if(t.find("option").removeAttr("disabled"),e&&""!==e)for(var n in e)t.find('option[value="'+n+'"]').attr("disabled","disabled")}})},escapeHtml:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},invisible:function(e){jQuery(e).css("visibility","hidden")},visible:function(e){jQuery(e).css("visibility","visible")}}}function frmRecaptcha(){for(var e=jQuery(".frm-g-recaptcha"),i=0,t=e.length;t>i;i++){var n=grecaptcha.render(e[i].id,{sitekey:e[i].getAttribute("data-sitekey"),size:e[i].getAttribute("data-size"),theme:e[i].getAttribute("data-theme")});e[i].setAttribute("data-rid",n)}}function frmUpdateField(e,i,t,n,r){jQuery(document.getElementById("frm_update_field_"+e+"_"+i)).html('<span class="frm-loading-img"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_update_field_ajax",entry_id:e,field_id:i,value:t,nonce:frm_js.nonce},success:function(){""===n.replace(/^\s+|\s+$/g,"")?jQuery(document.getElementById("frm_update_field_"+e+"_"+i+"_"+r)).fadeOut("slow"):jQuery(document.getElementById("frm_update_field_"+e+"_"+i+"_"+r)).replaceWith(n)}})}function frmEditEntry(e,i,t,n,r,a){console.warn("DEPRECATED: function frmEditEntry in v2.0.13 use frmFrontForm.editEntry");var l=jQuery(document.getElementById("frm_edit_"+e)),o=l.html(),d=jQuery(document.getElementById(i+e)),u=d.html();d.html('<span class="frm-loading-img" id="'+i+e+'"></span><div class="frm_orig_content" style="display:none">'+u+"</div>"),jQuery.ajax({type:"POST",url:frm_js.ajax_url,dataType:"html",data:{action:"frm_entries_edit_entry_ajax",post_id:t,entry_id:e,id:n,nonce:frm_js.nonce},success:function(u){d.children(".frm-loading-img").replaceWith(u),l.replaceWith('<span id="frm_edit_'+e+'"><a onclick="frmCancelEdit('+e+",'"+i+"','"+frmFrontForm.escapeHtml(o)+"',"+t+","+n+",'"+a+'\')" class="'+a+'">'+r+"</a></span>")}})}function frmCancelEdit(e,i,t,n,r,a){console.warn("DEPRECATED: function frmCancelEdit in v2.0.13 use frmFrontForm.cancelEdit");var l=jQuery(document.getElementById("frm_edit_"+e)),o=l.find("a"),d=o.html();if(!o.hasClass("frm_ajax_edited")){var u=jQuery(document.getElementById(i+e));u.children(".frm_forms").replaceWith(""),u.children(".frm_orig_content").fadeIn("slow").removeClass("frm_orig_content")}l.replaceWith('<a id="frm_edit_'+e+'" class="frm_edit_link '+a+'" href="javascript:frmEditEntry('+e+",'"+i+"',"+n+","+r+",'"+frmFrontForm.escapeHtml(d)+"','"+a+"')\">"+t+"</a>")}function frmDeleteEntry(e,i){console.warn("DEPRECATED: function frmDeleteEntry in v2.0.13 use frmFrontForm.deleteEntry"),jQuery(document.getElementById("frm_delete_"+e)).replaceWith('<span class="frm-loading-img" id="frm_delete_'+e+'"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_destroy",entry:e,nonce:frm_js.nonce},success:function(t){"success"==t.replace(/^\s+|\s+$/g,"")?jQuery(document.getElementById(i+e)).fadeOut("slow"):jQuery(document.getElementById("frm_delete_"+e)).replaceWith(t)}})}function frmOnSubmit(e){console.warn("DEPRECATED: function frmOnSubmit in v2.0 use frmFrontForm.submitForm"),frmFrontForm.submitForm(e,this)}function frm_resend_email(e,i){console.warn("DEPRECATED: function frm_resend_email in v2.0"),$link=jQuery(document.getElementById("frm_resend_email")),$link.append('<span class="spinner" style="display:inline"></span>'),jQuery.ajax({type:"POST",url:frm_js.ajax_url,data:{action:"frm_entries_send_email",entry_id:e,form_id:i,nonce:frm_js.nonce},success:function(e){$link.replaceWith(e)}})}var frmFrontForm=frmFrontFormJS();jQuery(document).ready(function(e){frmFrontForm.init()});